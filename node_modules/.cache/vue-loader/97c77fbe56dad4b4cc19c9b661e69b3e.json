{"remainingRequest":"D:\\智林\\test-paper\\test-paper\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\智林\\test-paper\\test-paper\\src\\views\\operation\\wordType.vue?vue&type=style&index=0&id=6941c2a6&scoped=true&lang=css&","dependencies":[{"path":"D:\\智林\\test-paper\\test-paper\\src\\views\\operation\\wordType.vue","mtime":1577164218937},{"path":"D:\\智林\\test-paper\\test-paper\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\智林\\test-paper\\test-paper\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\智林\\test-paper\\test-paper\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\智林\\test-paper\\test-paper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\智林\\test-paper\\test-paper\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubWFpbiB7CiAgcGFkZGluZzogMjBweDsKICBtYXgtd2lkdGg6IDEyMDBweDsKICBtYXJnaW46IDAgYXV0bzsKfQoubWFpbiA+IGRpdiA+IC5hbnQtcm93IHsKICBtYXJnaW4tYm90dG9tOiAzMHB4Owp9Ci5vcHRpb24gewogIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0KLmNsb3NlLWNpcmNsZSB7CiAgY29sb3I6ICNlZWU7CiAgb3BhY2l0eTogMC4xOwp9Ci5jb25maWdJdGVtIHsKICBsaW5lLWhlaWdodDogMzJweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmNvbmZpZ0l0ZW0gPiBkaXYgewogIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KLmFudGljb24tZGVsZXRlIHsKICBjb2xvcjogcmVkOwp9Ci5hbnRpY29uLWNsb3NlLWNpcmNsZSB7CiAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgb3BhY2l0eTogMC4zOwp9Ci5pdGVtUm93IHsKICBsaW5lLWhlaWdodDogMzJweDsKICBtYXJnaW4tYm90dG9tOiAxMHB4Owp9Ci5pdGVtUm93ID4gZGl2Omxhc3QtY2hpbGQgaSB7CiAgbWFyZ2luLWxlZnQ6IDVweDsKfQouYWRkT3B0aW9uIHsKICBtYXJnaW4tdG9wOiAxMHB4Owp9Ci5hbnQtdXBsb2FkLWxpc3QuYW50LXVwbG9hZC1saXN0LXRleHQgewogIGRpc3BsYXk6IG5vbmU7Cn0K"},{"version":3,"sources":["wordType.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wordType.vue","sourceRoot":"src/views/operation","sourcesContent":["<template>\n  <div class=\"main\">\n    <div>\n      <a-row>\n        <h3>【题干】</h3>\n        <a-row>\n          <a-input v-model='da.testInfo.stem' />\n        </a-row>\n      </a-row>\n      <a-row>\n        <h3>【原始素材】</h3>\n        <a-col :span='4'>\n\n          <a-upload name=\"file\" :multiple=\"true\" :action=\"action\" :headers=\"headers\" @change=\"handleFileChange\">\n            <a-button>\n              <a-icon type=\"upload\" />上传文件 </a-button>\n          </a-upload>\n        </a-col>\n        <a-col :span='20' class=\"materialList\">\n          <span v-for=\"(file, index) in da.testInfo.materialList\" :key=\"index\" style=\"margin:0 20px 0 0\">\n            <a-dropdown-button>\n              {{file.fileName}}\n              <a-menu slot=\"overlay\" @click=\"(e) =>handleMenuClick(e, index)\">\n                <a-menu-item key=\"view\">预览</a-menu-item>\n                <a-menu-item key=\"delete\">删除</a-menu-item>\n              </a-menu>\n            </a-dropdown-button>\n          </span>\n        </a-col>\n      </a-row>\n      <a-row>\n        <h3>【结果文件】</h3>\n        <a-row>\n          <a-input v-model='da.testInfo.resultFile' />\n        </a-row>\n      </a-row>\n      <a-row>\n        <h3>【操作要求】</h3>\n        <a-table :columns=\"columns\" :dataSource=\"da.testInfo.options\" :rowKey='setRowKey' bordered :pagination='false'>\n          <div slot=\"content\" slot-scope=\"content, record\">\n            <a-input v-model=\"record.content\">\n              <span slot=\"suffix\">\n                <a-icon type=\"setting\" @click=\"showConfig(record)\" style=\"color:#1890ff\" title=\"配置设置项\" />\n                <a-icon type=\"close-circle\" theme='filled' @click=\"clearInput(record)\" title=\"清空描述内容\" />\n              </span>\n            </a-input>\n          </div>\n          <template slot=\"items\" slot-scope=\"record\" class=\"configItem\">\n            <vuedraggable class=\"wrapper\" v-model=\"record.items\" handle='.targetIcon'>\n              <transition-group>\n                <a-row v-for=\"(vv, ii) in record.items\" :key=\"'B'+ii\" class='itemRow'>\n                  <a-col :span=\"3\">{{vv.parentItemIdName}}</a-col>\n                  <a-col :span=\"3\">{{vv.childItemIdName}}</a-col>\n                  <a-col :span=\"12\" v-for=\"(vvv, iii) in vv.details\" :key=\"'C'+iii\">\n                    <i>【{{vvv.detailName}}】：</i>\n                    <i>{{vvv.detailValue}}</i>\n                  </a-col>\n                  <a-col :span=\"4\">\n                    <a-input :value=\"vv.valueScore\" @change=\"e => handleChange(e.target.value, vv)\"><span slot=\"addonAfter\">分</span></a-input>\n                  </a-col>\n                  <a-col :span=\"2\">\n                    <a-icon type=\"delete\" @click=\"deleteItem(record.items, ii)\" />\n                    <a-icon type=\"drag\" class=\"targetIcon\" />\n\n                  </a-col>\n                </a-row>\n              </transition-group>\n            </vuedraggable>\n          </template>\n        </a-table>\n        <a-row>\n          <a-button style=\"width:100%\" @click=\"addOption\" class=\"addOption\">\n            <a-icon type=\"plus-circle\" theme='filled' />添加操作项</a-button>\n        </a-row>\n      </a-row>\n      <a-row>\n        <a-col :span='2'> <label for=\"\">【分值】</label> </a-col>\n        <a-col :span='4'>\n          <a-input-number :min='0' :value='score' :disabled=\"true\" />\n        </a-col>\n      </a-row>\n    </div>\n    <item ref=\"item\" :optionData='option' :questionType='questionType'></item>\n    <a-modal title=\"预览\" width='1200px' :visible=\"viewModal\">\n      <iframe  :src=\"liveUrl+url\"  type=\"application/x-google-chrome-pdf\" width=\"100%\" height=\"700px\" />\n    </a-modal >\n  </div>\n</template>\n\n<script>\nimport vuedraggable from 'vuedraggable'\nimport item from './setupItem'\nexport default {\n  name: 'HelloWorld',\n  components: {\n    item,\n    vuedraggable\n  },\n  props: {\n    questionType: Number\n  },\n  computed: {\n    score: function() {\n      let total = 0\n      this.da.testInfo.options.forEach(i => {\n        i.items.forEach(j => {\n          total += Number(j.valueScore)\n        })\n      })\n      return total\n    }\n  },\n  data() {\n    return {\n      headers: {\n        authorization: 'authorization-text'\n      },\n      liveUrl:'https://view.officeapps.live.com/op/view.aspx?src=',\n      action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n      da: {\n        examId: 1,\n        testInfo: {\n          stem: '', //题干\n          materialList: [],\n          resultFile: '', // 结果文件\n          analysis: '暂无', //解析\n          options: [\n            {\n              //选项和描述信息\n              content: '', //选项和操作内容\n              isRealAnsOrJudgementPoint: false, //是否正确答案或是否判分点\n              num: '', //选项编号和操作步骤\n              realAnswer: '', //答案Linux和网络互连试题\n              items: []\n            }\n          ],\n\n          score: 2, //分值\n          subjectId: 1, //科目 id\n          label: '' //标签 逗号分隔\n        }\n      },\n      option: {},\n      columns: [\n        {\n          title: '描述',\n          dataIndex: 'content',\n          scopedSlots: { customRender: 'content' }\n        },\n        {\n          title: '设置项',\n          scopedSlots: { customRender: 'items' }\n        }\n      ],\n      rules: [\n        { name: 'stem', required: 'true' },\n        { name: 'materialList', required: 'true' },\n        { name: 'resultFile', required: 'true' },\n        { name: 'options', required: 'true'}\n      ],\n      url:'',\n      viewModal:false\n\n    }\n  },\n  methods: {\n    showConfig(da) {\n      this.$refs.item.showModal(da)\n    },\n    handleChange(v, k) {\n      k['valueScore'] = v\n    },\n    deleteItem(items, ii) {\n      items.splice(ii, 1)\n    },\n    addOption() {\n      let defaultV = {\n        //选项和描述信息\n        content: '', //选项和操作内容\n        isRealAnsOrJudgementPoint: false, //是否正确答案或是否判分点\n        num: '', //选项编号和操作步骤\n        realAnswer: '', //答案Linux和网络互连试题\n        items: []\n      }\n      this.da.testInfo.options.push(defaultV)\n    },\n    clearInput(v) {\n      v.content = ''\n    },\n    handleSubmit(e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          window.console.log('Received values of form: ', values)\n        }\n      })\n    },\n    // 设置表格key值\n    setRowKey(key, id) {\n      return `${key.parentId}-${id}`\n    },\n    //\n    handleFileChange(info) {\n      if (info.file.status !== 'uploading') {\n        window.console.log(info.file, info.fileList)\n      }\n      if (info.file.status === 'done') {\n        this.$message.success(`${info.file.name} 上传成功`)\n        this.da.testInfo.materialList.push({\n          url: info.file.response.url,\n          fileName: info.file.name\n        })\n      } else if (info.file.status === 'error') {\n        this.$message.error(`${info.file.name} 上传失败`)\n      }\n    },\n    handleMenuClick(e, index) {\n      if (e.key === 'delete') {\n        this.da.testInfo.materialList.splice(index, 1)\n      }\n      if(e.key === 'view'){\n          this.url = this.da.testInfo.materialList[index].url;\n          this.viewModal = true;\n      }\n    },\n    returnData() {}\n  },\n  created() {},\n  mounted() {},\n  updated() {}\n}\n</script>\n<style scoped>\n.main {\n  padding: 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n.main > div > .ant-row {\n  margin-bottom: 30px;\n}\n.option {\n  margin-bottom: 20px;\n}\n.close-circle {\n  color: #eee;\n  opacity: 0.1;\n}\n.configItem {\n  line-height: 32px;\n  text-align: center;\n}\n.configItem > div {\n  margin-bottom: 10px;\n}\n.anticon-delete {\n  color: red;\n}\n.anticon-close-circle {\n  margin-left: 10px;\n  opacity: 0.3;\n}\n.itemRow {\n  line-height: 32px;\n  margin-bottom: 10px;\n}\n.itemRow > div:last-child i {\n  margin-left: 5px;\n}\n.addOption {\n  margin-top: 10px;\n}\n.ant-upload-list.ant-upload-list-text {\n  display: none;\n}\n</style>"]}]}